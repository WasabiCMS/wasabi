!function(t){var e=function(e){this.$el=t(e),this.$bottomEl=this.$el.closest("form").find('[data-toggle="select-secondary"]').first(),this.$items=this.$el.closest("form").find('input[type="checkbox"][name="'+this.$el.attr("data-target")+'"]'),this.init()};e.prototype=function(){function e(){this.$bottomEl.prop("checked",this.$el[0].checked),this.$items.prop("checked",this.$el[0].checked),this.$items.closest("tr").toggleClass("selected",this.$el[0].checked)}function s(){this.$el.prop("checked",this.$bottomEl[0].checked),this.$items.prop("checked",this.$bottomEl[0].checked),this.$items.closest("tr").toggleClass("selected",this.$bottomEl[0].checked)}function o(e){var s=t(e.target);s[0].checked||(this.$el.prop("checked",!1),this.$bottomEl.prop("checked",!1)),this.$items.length===this.$items.filter(":checked").length&&(this.$el.prop("checked",!0),this.$bottomEl.prop("checked",!0)),s.closest("tr").toggleClass("selected",s[0].checked)}return{init:function(){this.$el.attr("autocomplete","off"),this.$el.on("click",t.proxy(e,this)),this.$bottomEl.attr("autocomplete","off"),this.$bottomEl.on("click",t.proxy(s,this)),this.$items.attr("autocomplete","off"),this.$items.on("change",t.proxy(o,this))}}}(),t.fn.toggleSelect=function(s){return this.each(function(){t(this).data("toggleSelect")||t(this).data("toggleSelect",new e(this,s))})}}(jQuery);