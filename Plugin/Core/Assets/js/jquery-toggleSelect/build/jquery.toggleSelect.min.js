/*!
 * jQuery Toggle Select v0.0.1
 *
 * Copyright (c) 2013 Frank FÃ¶rster (http://frankfoerster.com)
 * Licensed under the MIT License
 */
!function(a){var b=function(b){this.$el=a(b),this.$bottomEl=this.$el.closest("form").find('[data-toggle="select-secondary"]').first(),this.$items=this.$el.closest("form").find('input[type="checkbox"][name="'+this.$el.attr("data-target")+'"]'),this.init()};b.prototype=function(){function b(){this.$bottomEl.prop("checked",this.$el[0].checked),this.$items.prop("checked",this.$el[0].checked),this.$items.closest("tr").toggleClass("selected",this.$el[0].checked)}function c(){this.$el.prop("checked",this.$bottomEl[0].checked),this.$items.prop("checked",this.$bottomEl[0].checked),this.$items.closest("tr").toggleClass("selected",this.$bottomEl[0].checked)}function d(b){var c=a(b.target);c[0].checked||(this.$el.prop("checked",!1),this.$bottomEl.prop("checked",!1)),this.$items.length===this.$items.filter(":checked").length&&(this.$el.prop("checked",!0),this.$bottomEl.prop("checked",!0)),c.closest("tr").toggleClass("selected",c[0].checked)}return{init:function(){this.$el.attr("autocomplete","off"),this.$el.on("click",a.proxy(b,this)),this.$bottomEl.attr("autocomplete","off"),this.$bottomEl.on("click",a.proxy(c,this)),this.$items.attr("autocomplete","off"),this.$items.on("change",a.proxy(d,this))}}}(),a.fn.toggleSelect=function(c){return this.each(function(){a(this).data("toggleSelect")||a(this).data("toggleSelect",new b(this,c))})}}(jQuery);